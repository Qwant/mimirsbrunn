{
  "elasticsearch": {
    "index_patterns": ["munin_poi*"],
    "template": {
      "settings": {
        "analysis": {
          "analyzer": {
            "word":{
              "filter":[
                "lowercase",
                "asciifolding"
              ],
              "type":"custom",
              "tokenizer":"standard"
            }
          }
        }
      },
      "mappings": {
        "dynamic_templates": [
          {
            "i18n_alt_names": {
              "match_pattern": "regex",
              "path_match": "^alt_name($|s\\.\\w+)",
              "mapping": {
                "type": "text",
                "index_options": "docs",
                "analyzer": "word",
                "copy_to": ["full_label", "full_label_extra"],
                "fields": {
                  "prefix": {
                    "type": "text",
                    "index_options": "docs",
                    "analyzer": "prefix",
                    "search_analyzer": "word"
                  }
                }
              }
            }
          },
          {
            "i18n_loc_names": {
              "match_pattern": "regex",
              "path_match": "^loc_name($|s\\.\\w+)",
              "mapping": {
                "type": "text",
                "index_options": "docs",
                "analyzer": "word",
                "copy_to": ["full_label", "full_label_extra"],
                "fields": {
                  "prefix": {
                    "type": "text",
                    "index_options": "docs",
                    "analyzer": "prefix",
                    "search_analyzer": "word"
                  }
                }
              }
            }
          }
        ],
        "properties": {
          "address": {
            "type": "flattened"
          },
          "boundary": {
            "enabled": false
          },
          "poi_type": {
            "properties": {
              "id": {
                "type": "keyword"
              },
              "name": {
                "type": "text",
                "index_options": "docs",
                "analyzer": "word"
              }
            }
          },
          "properties": {
            "type": "flattened"
          },
          "full_label_extra": {
            "type": "text",
            "index_options": "docs",
            "analyzer": "word",
            "norms": false
          },
          "type": {
            "type": "constant_keyword",
            "value": "poi"
          }
        }
      }
    },
    "composed_of": ["mimir-base", "mimir-dynamic-mappings"],
    "version": 3,
    "priority": 10
  }
}
